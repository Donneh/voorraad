<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/polymer/lib/elements/dom-repeat.html">
<link rel="import" href="../../bower_components/paper-styles/paper-styles.html">
<dom-module id="gerecht-verwijderen">
  <template>
    <style>
    table {
      font-family: arial, sans-serif;
      border-collapse: collapse;
      width: 100%;
    }

    td, th {
      border: 1px solid #dddddd;
      text-align: left;
      padding: 8px;
    }
    table paper-button{
      text-transform: none;
    }

    paper-dialog{
      background-color: #F48068;
      padding-bottom: 20px;
    }
  </style>

        <table>
            <tr>
                <th>Gerecht</th>
                <th>Op menu</th>
                <th>Bestelbaar</th>
            </tr>
              <template is=dom-repeat items="{{gerechten}}" as="gerecht">
            <tr>
                <td>  <paper-button text-transform="none" on-click="verwijderGerechtHandler" id="[[gerecht.gerecht]]">[[gerecht.gerecht]]</paper-button></td>
                <td>[[gerecht.opMenu]]</td>
                <td>[[gerecht.beschikbaar]]</td>
            </tr>
              </template>
        </table>

        <paper-dialog id="dialoogvenster">
            <h2> weet u zeker dat u het gerecht <span>[[gerecht.gerecht]]</span> wilt verwijderen </h2>
            <paper-button on-click="zekerButtonJa" dialog-confirm raised autofocus>Ja</paper-button>
            <paper-button on-click="zekerButtonNee" dialog-confirm raised autofocus>Nee</paper-button>
          </br>
        </paper-dialog>

        <paper-input label="naam?" value={{naam}}></paper-input>
        <paper-button raised on-click="gerechtToevoegenHandler">Toevoegen</paper-button>

  </template>

  <script>
    /**
     * @customElement
     * @polymer
     */
     class gerechtVerwijderen extends Polymer.Element {
       static get is() { return 'gerecht-verwijderen'; }
       static get properties() {
         return {
           naam: String,
           gerechten: {
             type: Array,
             value: [
               {gerecht : "Patat", opMenu : "Nee", beschikbaar : "Nee"},
               {gerecht : "Pizza", opMenu : "Nee", beschikbaar : "Nee"},
               {gerecht : "CousCous", opMenu : "Nee", beschikbaar : "Nee"},
               {gerecht : "rijst", opMenu : "Nee", beschikbaar : "Nee"}
             ]
           }
         };
       }
       gerechtToevoegenHandler(){
         if(this.naam.length >= 1){
            this.push('gerechten', {gerecht:this.naam, opMenu: "Nee", beschikbaar:"Nee"});
          }
       }
       verwijderGerechtHandler(e){
         this.$.dialoogvenster.open();
         this.e = e.target.id;
       }

       zekerButtonJa(){
// Faalt als 2 gerechten zelfde naam.
         for(var i=0; i < this.get(['gerechten']).length; i++){
            var arrayItem = this.get(['gerechten', i]);
            if(this.e == arrayItem.gerecht) {
              this.splice("gerechten", i, 1);
            }
         }
       }
       zekerButtonNee(){
         this.$.dialoogvenster.close();
       }

     }

     window.customElements.define(gerechtVerwijderen.is, gerechtVerwijderen);
  </script>
</dom-module>
